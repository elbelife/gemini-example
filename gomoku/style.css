:root {
    --bg-color: #f0f2f5;
    --board-color: #e3c185;
    /* Warm wood color */
    --board-shadow: 0 20px 50px rgba(0, 0, 0, 0.3);
    --grid-line-color: rgba(0, 0, 0, 0.4);
    --text-color: #333;
    --accent-color: #4a90e2;
    --stone-size: 32px;
    /* Adjustable based on board size */
    --black-stone: radial-gradient(circle at 30% 30%, #444, #000);
    --white-stone: radial-gradient(circle at 30% 30%, #fff, #ddd 30%, #ccc 60%, #bbb);
    --hover-black: rgba(0, 0, 0, 0.3);
    --hover-white: rgba(255, 255, 255, 0.5);
}

* {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}

body {
    font-family: 'Outfit', sans-serif;
    background-color: var(--bg-color);
    color: var(--text-color);
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
}

.game-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 20px;
}

header {
    text-align: center;
}

h1 {
    font-weight: 600;
    font-size: 2.5rem;
    margin-bottom: 0.2rem;
    letter-spacing: -0.02em;
}

.subtitle {
    font-weight: 300;
    color: #666;
    font-size: 1rem;
}

/* Controls and Status */
.controls {
    display: flex;
    gap: 15px;
    margin-bottom: 10px;
}

#mode-select,
#difficulty-select {
    padding: 10px;
    border-radius: 8px;
    border: 1px solid #ccc;
    font-family: inherit;
    font-size: 1rem;
    background-color: #fff;
    cursor: pointer;
}

#status {
    font-size: 1.2rem;
    font-weight: 500;
    margin-bottom: 10px;
    height: 1.5rem;
    /* Min height to prevent jump */
}

#reset-btn {
    padding: 10px 20px;
    background-color: var(--text-color);
    color: #fff;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    font-family: inherit;
    font-weight: 500;
    transition: transform 0.1s, opacity 0.2s;
}

#reset-btn:hover {
    opacity: 0.9;
}

#reset-btn:active {
    transform: scale(0.98);
}

.board {
    position: relative;
    width: 500px;
    height: 500px;
    background-color: var(--board-color);
    box-shadow: var(--board-shadow);
    border-radius: 4px;
    /* Slight rounding on board corners */
    display: grid;
    grid-template-columns: repeat(15, 1fr);
    /* 15x15 grid */
    grid-template-rows: repeat(15, 1fr);
    padding: 15px;
    /* Padding creates the outer margin */
    /* Realistic wood texture overlay (optional, keeping clean for now or CSS generated) */
    background-image:
        linear-gradient(rgba(255, 255, 255, 0.1) 1px, transparent 1px),
        linear-gradient(90deg, rgba(255, 255, 255, 0.1) 1px, transparent 1px);
    background-size: 100% 100%;
    /* Just subtle noise if needed */
}

/* The actual grid lines. We can use pseudo-elements on cells or a background gradient on the board.
   Let's use cells for easier interaction handling. */

.cell {
    position: relative;
    cursor: pointer;
    display: flex;
    justify-content: center;
    align-items: center;
}

/* Drawing grid lines using pseudo-elements on cells to ensure stones sit ON TOP of lines if we want intersection.
   For Gomoku, stones are played on intersections. 
   So a 15x15 grid of cells REPRESENTS the 15x15 intersections.
   We need the lines to cross through the CENTER of each cell.
*/
.cell::before {
    /* Horizontal line */
    content: '';
    position: absolute;
    top: 50%;
    left: 0;
    width: 100%;
    height: 1px;
    background-color: var(--grid-line-color);
    transform: translateY(-50%);
    z-index: 1;
}

.cell::after {
    /* Vertical line */
    content: '';
    position: absolute;
    left: 50%;
    top: 0;
    height: 100%;
    width: 1px;
    background-color: var(--grid-line-color);
    transform: translateX(-50%);
    z-index: 1;
}

/* Fix borders for edge cells so lines don't protrude too much if desired, 
   but standard gomoku boards check full grid. 
   Actually, usually lines stop at the edge stars. 
   With this CSS, lines go edge to edge of the cell. 
   We wrap the whole grid in padding on the board, so it looks like a proper board.
*/

.stone {
    width: 85%;
    height: 85%;
    border-radius: 50%;
    z-index: 2;
    /* Above lines */
    box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.4);
    transform: scale(0);
    animation: placeStone 0.2s forwards;
}

.stone.black {
    background: var(--black-stone);
}

.stone.white {
    background: var(--white-stone);
}

@keyframes placeStone {
    to {
        transform: scale(1);
    }
}

/* Hover effects */
.cell:hover .shadow-stone {
    opacity: 1;
}

.shadow-stone {
    position: absolute;
    width: 85%;
    height: 85%;
    border-radius: 50%;
    z-index: 2;
    opacity: 0;
    pointer-events: none;
    /* Let click pass through to cell */
    transition: opacity 0.2s;
}

.shadow-stone.black {
    background-color: var(--hover-black);
}

.shadow-stone.white {
    background-color: var(--hover-white);
}

/* Last move marker */
.last-move::before {
    content: '';
    position: absolute;
    width: 30%;
    height: 30%;
    background-color: rgba(255, 0, 0, 0.6);
    border-radius: 50%;
    z-index: 3;
    top: 35%;
    left: 35%;
    box-shadow: 0 0 4px rgba(255, 0, 0, 0.8);
}

/* Winning line indication */
.winning-stone {
    filter: brightness(1.2);
    box-shadow: 0 0 10px #4a90e2, 2px 2px 4px rgba(0, 0, 0, 0.4);
}